# T-0006: Prepare ARC training dataset

**Status**: DONE
**Phase**: VERIFYING
**After**: â€”
**Before**: T-0007

## Context

Raw ARC data exists in `kaggle/combined/` but needs to be processed into the format expected by the training script. The config expects data in `data/arc-aug-1000`.

## Acceptance Criteria

- [x] Dataset prepared in `data/arc-aug-1000/` (or appropriate path)
- [x] Dataset contains training and evaluation splits
- [x] PuzzleDataset can load the prepared data

## Verification Plan

### Tests to Create
| Test | Proves | Status |
|------|--------|--------|
| Manual: Check `data/arc-aug-1000/` exists with expected files | Data prepared | - |

### Regression Check
```
python -c "from puzzle_dataset import PuzzleDataset; print('OK')"
```

### Manual Verification
- [ ] Verify dataset can be loaded by PuzzleDataset class
- [ ] Check data statistics (number of puzzles, augmentations)

## Approach

(Filled during PLANNING phase)

## Implementation Notes

### PLANNING

- Raw data in `kaggle/combined/` (ARC-AGI training, evaluation, concept sets)
- Build script: `data/build_arc_dataset.py`
- Default config expects `data/arc-aug-1000` but CLAUDE.md suggests `data/arc1concept-aug-1000`
- Will use CLAUDE.md's recommended command with all subsets

### TESTING_RED

### IMPLEMENTING

1. Created symlinks in `kaggle/combined/` to fix filename mismatch (underscore vs hyphen)
2. Ran build script with 100 augmentations (1000 caused OOM):
   ```
   python data/build_arc_dataset.py \
     --input-file-prefix kaggle/combined/arc-agi \
     --output-dir data/arc1concept-aug-100 \
     --subsets training evaluation concept \
     --test-set-name evaluation \
     --num-aug 100
   ```
3. Created symlink `data/arc-aug-1000 -> arc1concept-aug-100` for config compatibility

### TESTING_GREEN

### REFACTORING

### DEBUGGING

## Obstacles

## Evidence

```
$ ls data/arc1concept-aug-100/
identifiers.json  test/  test_puzzles.json  train/

$ python -c "from puzzle_dataset import PuzzleDataset, PuzzleDatasetConfig; ..."
Dataset loaded successfully
Metadata: seq_len=900, vocab_size=12
Total groups: 960
```

## Outcome

ARC dataset prepared with 100 augmentations (960 puzzle groups). Dataset stored in `data/arc1concept-aug-100/` with symlink at `data/arc-aug-1000` for config compatibility. Note: For full 1000 augmentations, run on a machine with more memory.
